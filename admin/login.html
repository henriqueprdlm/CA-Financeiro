<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Verificação de autenticação do usuário -->
    <script
        async
        crossorigin="anonymous"
        data-clerk-publishable-key="pk_test_ZXRoaWNhbC1ibHVlamF5LTY5LmNsZXJrLmFjY291bnRzLmRldiQ"
        src="https://ethical-bluejay-69.clerk.accounts.dev/npm/@clerk/clerk-js@latest/dist/clerk.browser.js"
        type="text/javascript"
    ></script>

    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="assets/img/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/img/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/img/favicon/favicon-16x16.png">
    <link rel="manifest" href="assets/img/favicon/site.webmanifest">

    <!-- CSS -->
    <link rel="stylesheet" href="assets/css/login.css">

    <title>CA Financeiro - Admin</title>
</head>
<body>
    <div id="app"></div>

    <script>
        window.addEventListener('load', async function () {
            const response = await fetch('assets/locales/clerk-ptBR.json');
            const ptBR = await response.json();
    
            await Clerk.load({ localization: ptBR })

            if (Clerk.user) {
              document.getElementById('app').innerHTML = `<div id="user-button"></div>`;
              Clerk.mountUserButton(document.getElementById('user-button'), { localization: ptBR });
              window.location.href = "/cafinanceiro/admin/index.html";
            } else {
              document.getElementById('app').innerHTML = `<div id="sign-in"></div>`;
              Clerk.mountSignIn(document.getElementById('sign-in'), {
                redirectUrl: "/cafinanceiro/admin/index.html",
                localization: ptBR,
              });
            }
        })
    </script>
</body>
</html>