<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="assets/css/style.css">

    <title>CA Financeiro</title>

    <!-- Verificação de autenticação do usuário -->
    <script
        async
        crossorigin="anonymous"
        data-clerk-publishable-key="pk_test_ZXRoaWNhbC1ibHVlamF5LTY5LmNsZXJrLmFjY291bnRzLmRldiQ"
        src="https://ethical-bluejay-69.clerk.accounts.dev/npm/@clerk/clerk-js@latest/dist/clerk.browser.js"
        type="text/javascript"
    ></script>

    <script>
        window.addEventListener("load", async function () {
            await Clerk.load();

            if (!Clerk.user) {
                window.location.href = "/cafinanceiro/admin/login.html";
            } else {
                const userButtonDiv = document.getElementById("user-button");
                Clerk.mountUserButton(userButtonDiv, {
                    afterSignOutUrl: '/cafinanceiro/admin/login.html'
                });

                const observer = new MutationObserver(() => {
                    if (userButtonDiv) {
                        const header = document.querySelector("header");
                        header.style.display = "flex";
                        header.style.justifyContent = "space-between";
                        header.style.alignItems = "center";
                    }
                });
                observer.observe(userButtonDiv, { childList: true, subtree: true });
            }
        });
    </script>
</head>
<body>
    <header>
        <div><h2>CA Financeiro</h2></div>
        <div><div id="user-button"></div></div>
    </header>

    <main class="container">
        <h3 id="ca_nome">Centro Acadêmico João Bla bla</h3>
        <h4 id="ca_curso">Bacharelado em Ciência da Computação - IFC Videira</h4>

        <div class="saldo">
            <p id="saldo_texto">Saldo atual:</p>
            <p id="saldo_atual">R$ 0,00</p>
        </div>

        <div class="categorias">
            <h3>Categorias</h3>

            <div class="categoria">
                <p>Festa Julina 2025Festa Julina 2025Festa Julina 2025Festa Julina 2025Festa Julina 2025Festa Julina 2025</p>
                <p style="color: green;">R$ 600,00</p>
            </div>

            <div class="categoria">
                <p>Viagem do curso 2025</p>
                <p style="color: red;">-R$ 1200,00</p>
            </div>
        </div>
    </main>

    <footer>
        <p>© CA Financeiro, 2025</p>
    </footer>
</body>
</html>